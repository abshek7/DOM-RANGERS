<div class="claims-container">
    <div class="page-header">
        <div>
            <h1>My Claims</h1>
            <p>Track and manage your insurance claims</p>
        </div>
        <button class="btn-primary" routerLink="/customer/file-claim">
            + File New Claim
        </button>
    </div>

    <!-- Filter Tabs -->
    <div class="filter-tabs">
        <button [class.active]="selectedFilter === 'all'" (click)="selectedFilter = 'all'">
            All Claims
        </button>
        <button [class.active]="selectedFilter === 'pending'" (click)="selectedFilter = 'pending'">
            Pending
        </button>
        <button [class.active]="selectedFilter === 'under-review'" (click)="selectedFilter = 'under-review'">
            Under Review
        </button>
        <button [class.active]="selectedFilter === 'approved'" (click)="selectedFilter = 'approved'">
            Approved
        </button>
        <button [class.active]="selectedFilter === 'rejected'" (click)="selectedFilter = 'rejected'">
            Rejected
        </button>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-state">
        <div class="spinner"></div>
        <p>Loading claims...</p>
    </div>

    <!-- Claims List -->
    <div *ngIf="!loading" class="claims-list">
        <div *ngFor="let claim of filteredClaims" class="claim-card">
            <div class="claim-header">
                <div class="claim-id">
                    <span class="icon">{{ getStatusIcon(claim.status) }}</span>
                    <div>
                        <h3>{{ claim.claimId }}</h3>
                        <p>{{ claim.type }} Claim</p>
                    </div>
                </div>
                <span class="status-badge" [ngClass]="getStatusClass(claim.status)">
                    {{ claim.status }}
                </span>
            </div>

            <div class="claim-details">
                <div class="detail-row">
                    <span class="label">Policy Number:</span>
                    <span class="value">{{ claim.policyNumber }}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Claim Amount:</span>
                    <span class="value amount">â‚¹{{ claim.claimAmount | number }}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Incident Date:</span>
                    <span class="value">{{ claim.incidentDate | date: 'MMM dd, yyyy' }}</span>
                </div>
                <div class="detail-row">
                    <span class="label">Filed On:</span>
                    <span class="value">{{ claim.createdAt | date: 'MMM dd, yyyy' }}</span>
                </div>
            </div>

            <div class="claim-description">
                <strong>Description:</strong> {{ claim.description }}
            </div>

            <div class="claim-timeline" *ngIf="claim.timeline && claim.timeline.length > 0">
                <h4>Timeline</h4>
                <div class="timeline-items">
                    <div *ngFor="let item of claim.timeline" class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <strong>{{ item.status }}</strong>
                            <span>{{ item.date | date: 'MMM dd, yyyy HH:mm' }}</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="claim-actions">
                <button class="btn-secondary">View Details</button>
                <button class="btn-secondary" *ngIf="claim.status === 'pending'">Cancel Claim</button>
            </div>
        </div>

        <!-- Empty State -->
        <div *ngIf="filteredClaims.length === 0" class="empty-state">
            <span class="empty-icon">ðŸ“‹</span>
            <h3>No Claims Found</h3>
            <p>You haven't filed any claims yet</p>
            <button class="btn-primary" routerLink="/customer/file-claim">
                File Your First Claim
            </button>
        </div>
    </div>
</div>