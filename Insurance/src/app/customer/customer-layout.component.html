<div class="layout-container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <span class="logo-icon">üõ°Ô∏è</span>
        <span class="logo-text">InsuranceHub</span>
      </div>
    </div>

    <div class="user-info">
      <div class="user-avatar">
        <span>{{ customerName.charAt(0).toUpperCase() }}</span>
      </div>
      <div class="user-details">
        <h3>{{ customerName }}</h3>
        <p>{{ customerId }}</p>
      </div>
    </div>

    <nav class="main-menu">
      <h4 class="menu-label">MAIN MENU</h4>
      <ul>
        <li *ngFor="let item of menuItems" [class.active]="isActive(item.route)">
          <a [routerLink]="item.route" routerLinkActive="active">
            <span class="menu-icon">{{ item.icon }}</span>
            <span class="menu-text">{{ item.label }}</span>
          </a>
        </li>
      </ul>
    </nav>

    <div class="sidebar-footer">
      <h4 class="menu-label">TOOLS & RECORDS</h4>
      <ul>
        <li>
          <a [routerLink]="['/customer/documents']">
            <span class="menu-icon">üìÅ</span>
            <span class="menu-text">Document Vault</span>
          </a>
        </li>
        <li>
          <a [routerLink]="['/customer/profile']">
            <span class="menu-icon">üë§</span>
            <span class="menu-text">My Profile</span>
          </a>
        </li>
      </ul>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <h1>Customer Portal</h1>
        <p>Manage your security and claims in one place</p>
      </div>

      <div class="header-right">
        <!-- Notifications -->
        <div class="notification-wrapper">
          <button class="icon-btn" (click)="toggleNotifications()">
            <span class="bell-icon">üîî</span>
            <span class="badge" *ngIf="unreadCount > 0">{{ unreadCount }}</span>
          </button>

          <div class="notification-dropdown" *ngIf="showNotifications">
            <div class="notification-header">
              <h3>Notifications</h3>
              <span class="count">{{ unreadCount }} new</span>
            </div>
            <div class="notification-list">
              <div *ngFor="let notification of notifications" 
                   class="notification-item" 
                   [class.unread]="!notification.read"
                   (click)="markAsRead(notification)">
                <div class="notification-icon" [class]="notification.type">
                  <span *ngIf="notification.type === 'success'">‚úì</span>
                  <span *ngIf="notification.type === 'error'">‚úó</span>
                  <span *ngIf="notification.type === 'warning'">‚ö†</span>
                  <span *ngIf="notification.type === 'info'">‚Ñπ</span>
                </div>
                <div class="notification-content">
                  <h4>{{ notification.title }}</h4>
                  <p>{{ notification.message }}</p>
                  <span class="time">{{ notification.timestamp | date: 'short' }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- User Profile -->
        <div class="profile-wrapper">
          <button class="profile-btn" (click)="toggleProfileMenu()">
            <span class="profile-name">{{ customerName }}</span>
            <div class="profile-avatar">{{ customerName.charAt(0).toUpperCase() }}</div>
          </button>

          <div class="profile-dropdown" *ngIf="showProfileMenu">
            <div class="profile-info">
              <div class="profile-avatar-large">{{ customerName.charAt(0).toUpperCase() }}</div>
              <h3>{{ customerName }}</h3>
              <p>{{ customerId }}</p>
            </div>
            <ul class="profile-menu">
              <li><a [routerLink]="['/customer/profile']">üë§ My Profile</a></li>
              <li><a [routerLink]="['/customer/settings']">‚öôÔ∏è Settings</a></li>
              <li><a (click)="logout()">üö™ Logout</a></li>
            </ul>
          </div>
        </div>
      </div>
    </header>

    <!-- Page Content -->
    <main class="page-content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
